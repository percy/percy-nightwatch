<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Regions Test - Percy Nightwatch E2E</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f5f7fa;
      color: #333;
    }

    header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 40px 20px;
      text-align: center;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
    }

    header h1 {
      font-size: 2.5rem;
      margin-bottom: 10px;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 30px 20px;
    }

    .section {
      background: white;
      padding: 30px;
      border-radius: 12px;
      margin-bottom: 30px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .section h2 {
      color: #667eea;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 3px solid #667eea;
    }

    /* Banner Region - Should be ignored */
    .banner-region {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      color: white;
      padding: 30px;
      text-align: center;
      border-radius: 12px;
      margin-bottom: 30px;
      position: relative;
      overflow: hidden;
    }

    .banner-region::before {
      content: 'IGNORE REGION';
      position: absolute;
      top: 10px;
      right: 10px;
      background: rgba(255, 255, 255, 0.3);
      padding: 5px 10px;
      border-radius: 4px;
      font-size: 0.8rem;
      font-weight: bold;
    }

    .banner-region h2 {
      border: none;
      color: white;
      margin-bottom: 10px;
    }

    /* Carousel/Slider Region - Should be ignored */
    .carousel-region {
      background: #2d3748;
      border-radius: 12px;
      padding: 40px;
      margin: 30px 0;
      position: relative;
      min-height: 300px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .carousel-region::before {
      content: 'IGNORE REGION (Carousel)';
      position: absolute;
      top: 10px;
      left: 10px;
      background: rgba(255, 255, 255, 0.2);
      color: white;
      padding: 5px 10px;
      border-radius: 4px;
      font-size: 0.8rem;
      font-weight: bold;
    }

    .carousel-slide {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 60px;
      border-radius: 8px;
      text-align: center;
      font-size: 1.5rem;
      animation: slideIn 0.5s ease;
    }

    @keyframes slideIn {
      from { opacity: 0; transform: translateX(-20px); }
      to { opacity: 1; transform: translateX(0); }
    }

    /* Ad Region - Should be ignored */
    .ad-region {
      background: #fffbea;
      border: 3px dashed #f59e0b;
      border-radius: 12px;
      padding: 30px;
      text-align: center;
      margin: 30px 0;
      position: relative;
    }

    .ad-region::before {
      content: 'IGNORE REGION (Ad)';
      position: absolute;
      top: -12px;
      left: 50%;
      transform: translateX(-50%);
      background: #f59e0b;
      color: white;
      padding: 5px 15px;
      border-radius: 4px;
      font-size: 0.8rem;
      font-weight: bold;
    }

    /* Dynamic Content - Should be ignored */
    .dynamic-region {
      background: #f0f4f8;
      border: 2px solid #667eea;
      border-radius: 12px;
      padding: 25px;
      margin: 30px 0;
      position: relative;
    }

    .dynamic-region::before {
      content: 'IGNORE REGION (Dynamic)';
      position: absolute;
      top: -12px;
      right: 20px;
      background: #667eea;
      color: white;
      padding: 5px 15px;
      border-radius: 4px;
      font-size: 0.8rem;
      font-weight: bold;
    }

    .timestamp {
      font-family: 'Courier New', monospace;
      font-size: 1.8rem;
      color: #667eea;
      font-weight: bold;
      text-align: center;
      padding: 20px;
      background: white;
      border-radius: 8px;
      margin: 15px 0;
    }

    .counter {
      font-size: 3rem;
      color: #764ba2;
      font-weight: bold;
      text-align: center;
      padding: 30px;
      background: white;
      border-radius: 8px;
    }

    /* Static Content - Standard region */
    .static-content {
      background: #e6f3ff;
      border: 2px solid #3b82f6;
      border-radius: 12px;
      padding: 30px;
      margin: 30px 0;
      position: relative;
    }

    .static-content::before {
      content: 'STANDARD REGION';
      position: absolute;
      top: -12px;
      left: 20px;
      background: #3b82f6;
      color: white;
      padding: 5px 15px;
      border-radius: 4px;
      font-size: 0.8rem;
      font-weight: bold;
    }

    /* Layout Region - Flexible positioning */
    .layout-region {
      background: #fef3c7;
      border: 2px solid #f59e0b;
      border-radius: 12px;
      padding: 30px;
      margin: 30px 0;
      position: relative;
    }

    .layout-region::before {
      content: 'LAYOUT REGION';
      position: absolute;
      top: -12px;
      left: 20px;
      background: #f59e0b;
      color: white;
      padding: 5px 15px;
      border-radius: 4px;
      font-size: 0.8rem;
      font-weight: bold;
    }

    .flex-content {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
    }

    .flex-item {
      flex: 1;
      min-width: 200px;
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    /* Elements with specific IDs and classes for selector testing */
    .test-element-by-id {
      background: #e0e7ff;
      padding: 20px;
      border-radius: 8px;
      margin: 15px 0;
      border: 2px solid #667eea;
    }

    .test-element-by-class {
      background: #fce7f3;
      padding: 20px;
      border-radius: 8px;
      margin: 15px 0;
      border: 2px solid #ec4899;
    }

    .test-element-by-xpath {
      background: #d1fae5;
      padding: 20px;
      border-radius: 8px;
      margin: 15px 0;
      border: 2px solid #10b981;
    }

    /* Nested elements for padding tests */
    .padding-demo-outer {
      background: #f3f4f6;
      padding: 40px;
      border: 3px dashed #6b7280;
      border-radius: 12px;
      margin: 30px 0;
    }

    .padding-demo-inner {
      background: #667eea;
      color: white;
      padding: 30px;
      border-radius: 8px;
      text-align: center;
    }

    .code-snippet {
      background: #2d3748;
      color: #e2e8f0;
      padding: 15px;
      border-radius: 8px;
      font-family: 'Courier New', monospace;
      font-size: 0.9rem;
      overflow-x: auto;
      margin: 15px 0;
    }

    .info-box {
      background: #fffbea;
      border-left: 4px solid #f59e0b;
      padding: 20px;
      border-radius: 4px;
      margin: 20px 0;
    }

    .info-box h3 {
      color: #d97706;
      margin-bottom: 10px;
    }

    .region-list {
      list-style-position: inside;
      line-height: 2;
      color: #555;
    }

    .region-list li {
      padding: 10px;
      background: #f9fafb;
      margin-bottom: 8px;
      border-radius: 4px;
      border-left: 3px solid #667eea;
    }
  </style>
</head>
<body>
  <header>
    <h1>üéØ Region Testing Page</h1>
    <p style="font-size: 1.1rem; margin-top: 10px;">
      Testing all region algorithms, selectors, and configurations
    </p>
  </header>

  <div class="container">
    <!-- Info Section -->
    <div class="section">
      <h2>üìã About Region Testing</h2>
      <p style="margin-bottom: 15px;">
        This page demonstrates Percy's region functionality using the <code>createRegion()</code>
        helper. Regions allow you to control how Percy handles specific areas of your snapshot.
      </p>

      <h3 style="color: #667eea; margin: 20px 0 10px 0;">Supported Algorithms:</h3>
      <ul class="region-list">
        <li><strong>ignore</strong> - Completely ignore this region in comparisons</li>
        <li><strong>standard</strong> - Normal comparison with configurable sensitivity</li>
        <li><strong>layout</strong> - Ignore positioning, only compare content</li>
        <li><strong>intelliignore</strong> - Smart ignore with AI-powered detection</li>
      </ul>

      <h3 style="color: #667eea; margin: 20px 0 10px 0;">Selector Types:</h3>
      <ul class="region-list">
        <li><strong>elementCSS</strong> - CSS selector (e.g., ".class-name", "#id")</li>
        <li><strong>elementXpath</strong> - XPath selector (e.g., "//div[@data-test='foo']")</li>
        <li><strong>boundingBox</strong> - Coordinates {x, y, width, height}</li>
      </ul>
    </div>

    <!-- Banner Region -->
    <div class="banner-region" id="banner-region" data-region="banner">
      <h2>üé™ Dynamic Banner - IGNORE THIS</h2>
      <p style="font-size: 1.2rem;">
        This banner changes frequently and should be ignored in Percy comparisons.
        Select with: <code>#banner-region</code> or <code>.banner-region</code>
      </p>
    </div>

    <!-- Carousel Region -->
    <div class="carousel-region" id="carousel-region" data-region="carousel">
      <div class="carousel-slide" id="active-slide">
        Slide <span id="slide-number">1</span> of 5
        <br>
        <small style="margin-top: 10px; display: block;">
          Carousel content rotates - should be ignored
        </small>
      </div>
    </div>

    <!-- Ad Region -->
    <div class="ad-region" id="ad-region" data-region="ad">
      <h3 style="color: #d97706; margin-bottom: 10px;">Advertisement Space</h3>
      <p style="color: #92400e;">
        Ad content changes based on user behavior and should be ignored.
        <br>
        Select with: <code>#ad-region</code> or <code>[data-region="ad"]</code>
      </p>
    </div>

    <!-- Dynamic Content Region -->
    <div class="dynamic-region" id="dynamic-content" data-region="dynamic">
      <h3 style="color: #667eea; margin-bottom: 15px;">Dynamic Content</h3>
      <div class="timestamp" id="timestamp">Loading...</div>
      <div class="counter" id="counter">0</div>
      <p style="text-align: center; color: #666; margin-top: 15px;">
        Timestamp and counter update continuously - ignore this region
      </p>
    </div>

    <!-- Static Content Region -->
    <div class="static-content" id="static-content" data-region="static">
      <h3 style="color: #3b82f6; margin-bottom: 15px;">Static Content - Compare Normally</h3>
      <p style="line-height: 1.8; color: #555;">
        This is stable content that should be compared with standard algorithm.
        Percy will detect any visual changes here.
      </p>
      <div style="background: white; padding: 20px; border-radius: 8px; margin-top: 15px;">
        <h4 style="color: #3b82f6; margin-bottom: 10px;">Product Information</h4>
        <p><strong>Name:</strong> Percy Visual Testing SDK</p>
        <p><strong>Version:</strong> 2.2.0</p>
        <p><strong>Status:</strong> Active</p>
      </div>
    </div>

    <!-- Layout Region -->
    <div class="layout-region" id="layout-region" data-region="layout">
      <h3 style="color: #d97706; margin-bottom: 15px;">Layout Algorithm Test</h3>
      <p style="margin-bottom: 15px; color: #555;">
        These items may shift positions, but their content should remain the same.
        The layout algorithm ignores positioning changes.
      </p>
      <div class="flex-content">
        <div class="flex-item">
          <h4 style="color: #667eea;">Item A</h4>
          <p>Content A</p>
        </div>
        <div class="flex-item">
          <h4 style="color: #667eea;">Item B</h4>
          <p>Content B</p>
        </div>
        <div class="flex-item">
          <h4 style="color: #667eea;">Item C</h4>
          <p>Content C</p>
        </div>
      </div>
    </div>

    <!-- Selector Testing Section -->
    <div class="section">
      <h2>üéØ Selector Testing Elements</h2>
      <p style="margin-bottom: 20px;">
        These elements have specific IDs, classes, and data attributes for testing
        different selector types.
      </p>

      <div id="element-by-id" class="test-element-by-id" data-test="id-selector">
        <h3 style="color: #667eea; margin-bottom: 10px;">Select by ID</h3>
        <p>CSS Selector: <code>#element-by-id</code></p>
        <p>XPath: <code>//div[@id='element-by-id']</code></p>
      </div>

      <div class="test-element-by-class" data-test="class-selector">
        <h3 style="color: #ec4899; margin-bottom: 10px;">Select by Class</h3>
        <p>CSS Selector: <code>.test-element-by-class</code></p>
        <p>XPath: <code>//div[@class='test-element-by-class']</code></p>
      </div>

      <div class="test-element-by-xpath" data-test="xpath-selector" data-region-test="xpath">
        <h3 style="color: #10b981; margin-bottom: 10px;">Select by XPath</h3>
        <p>CSS Selector: <code>[data-test="xpath-selector"]</code></p>
        <p>XPath: <code>//div[@data-region-test='xpath']</code></p>
      </div>
    </div>

    <!-- Padding Demo Section -->
    <div class="section">
      <h2>üìê Padding Configuration Test</h2>
      <p style="margin-bottom: 20px;">
        This section tests region padding options (top, right, bottom, left).
      </p>

      <div class="padding-demo-outer" id="padding-demo">
        <div class="padding-demo-inner">
          <h3 style="margin-bottom: 10px;">Inner Content</h3>
          <p>
            Regions can have padding applied to expand the masked/compared area
            beyond the element's boundaries.
          </p>
        </div>
      </div>

      <div class="info-box">
        <h3>Example Padding Configuration:</h3>
        <div class="code-snippet">
createRegion({
  elementCSS: '#padding-demo',
  padding: { top: 10, right: 20, bottom: 10, left: 20 },
  algorithm: 'ignore'
})
        </div>
      </div>
    </div>

    <!-- BoundingBox Example -->
    <div class="section">
      <h2>üìç Bounding Box Selector Example</h2>
      <p style="margin-bottom: 20px;">
        Regions can also be defined by pixel coordinates instead of element selectors.
      </p>

      <div style="position: relative; background: #f3f4f6; padding: 40px; border-radius: 12px;">
        <div style="position: absolute; top: 40px; left: 40px; width: 200px; height: 100px; background: #667eea; color: white; display: flex; align-items: center; justify-content: center; border-radius: 8px; font-weight: bold;">
          Region at (40, 40)
          <br>200√ó100px
        </div>
      </div>

      <div class="info-box" style="margin-top: 20px;">
        <h3>Example BoundingBox Configuration:</h3>
        <div class="code-snippet">
createRegion({
  boundingBox: { x: 40, y: 40, width: 200, height: 100 },
  algorithm: 'ignore'
})
        </div>
      </div>
    </div>

    <!-- Configuration Options -->
    <div class="section">
      <h2>‚öôÔ∏è Region Configuration Options</h2>
      <p style="margin-bottom: 20px;">
        Standard and intelliignore algorithms support additional configuration:
      </p>

      <ul class="region-list">
        <li><strong>diffSensitivity</strong> - Pixel difference threshold (0.0 to 1.0)</li>
        <li><strong>imageIgnoreThreshold</strong> - Percentage of image to ignore</li>
        <li><strong>carouselsEnabled</strong> - Detect and ignore carousels automatically</li>
        <li><strong>bannersEnabled</strong> - Detect and ignore banner elements</li>
        <li><strong>adsEnabled</strong> - Detect and ignore advertisement regions</li>
      </ul>

      <div class="info-box" style="margin-top: 20px;">
        <h3>Example with Configuration:</h3>
        <div class="code-snippet">
createRegion({
  elementCSS: '.static-content',
  algorithm: 'standard',
  diffSensitivity: 0.05,
  imageIgnoreThreshold: 0.1,
  padding: { top: 5, right: 5, bottom: 5, left: 5 }
})
        </div>
      </div>
    </div>

    <!-- Test Instructions -->
    <div class="section">
      <h2>üß™ Testing Instructions</h2>
      <h3 style="color: #667eea; margin: 15px 0 10px 0;">Test Scenarios:</h3>
      <ul class="region-list">
        <li>Ignore banner region using CSS selector: <code>#banner-region</code></li>
        <li>Ignore carousel region using data attribute: <code>[data-region="carousel"]</code></li>
        <li>Ignore ad region using XPath: <code>//div[@id='ad-region']</code></li>
        <li>Ignore dynamic content with class selector: <code>.dynamic-region</code></li>
        <li>Standard comparison for static content: <code>#static-content</code></li>
        <li>Layout algorithm for flexible positioning: <code>#layout-region</code></li>
        <li>Multiple regions in single snapshot</li>
        <li>Region with padding configuration</li>
        <li>Bounding box region by coordinates</li>
      </ul>
    </div>
  </div>

  <script>
    // Update timestamp every second
    function updateTimestamp() {
      const now = new Date();
      document.getElementById('timestamp').textContent =
        now.toLocaleTimeString('en-US', { hour12: false });
    }

    // Update counter
    let count = 0;
    function updateCounter() {
      count++;
      document.getElementById('counter').textContent = count;
    }

    // Rotate carousel slides
    let slideNum = 1;
    function rotateSlide() {
      slideNum = (slideNum % 5) + 1;
      document.getElementById('slide-number').textContent = slideNum;
    }

    // Initial updates
    updateTimestamp();
    updateCounter();

    // Set intervals for dynamic content
    setInterval(updateTimestamp, 1000);
    setInterval(updateCounter, 1000);
    setInterval(rotateSlide, 3000);
  </script>
</body>
</html>
